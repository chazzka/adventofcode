(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 12.1' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     17761,        381]
NotebookOptionsPosition[     17179,        363]
NotebookOutlinePosition[     17578,        379]
CellTagsIndexPosition[     17535,        376]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell[BoxData[{
 RowBox[{
  RowBox[{"input", " ", "=", " ", 
   RowBox[{"Import", "[", 
    RowBox[{
    "\"\<C:\\\\Users\\\\adamo\\\\Documents\\\\adventofcode\\\\11\\\\input.txt\
\>\"", ",", "\"\<Data\>\""}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"matrix", " ", "=", " ", 
    RowBox[{"Flatten", "[", 
     RowBox[{
      RowBox[{"Characters", "@", "input"}], ",", "1"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Dimensions", "[", "matrix", "]"}], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{"matrix", " ", "equality"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{"matrix1", " ", "\[Equal]", " ", "matrix2"}], "*)"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
   "matici", " ", "p\[RHacek]id\[AAcute]me", " ", "okraje", " ", "abysme", 
    " ", "nep\[RHacek]et\[EAcute]kali", " ", "p\[RHacek]i", " ", 
    "prohled\[AAcute]v\[AAcute]n\[IAcute]"}], "*)"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Do", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"PrependTo", "[", 
      RowBox[{
       RowBox[{"matrix", "[", 
        RowBox[{"[", "i", "]"}], "]"}], ",", "\"\<*\>\""}], "]"}], ";", 
     RowBox[{"AppendTo", "[", 
      RowBox[{
       RowBox[{"matrix", "[", 
        RowBox[{"[", "i", "]"}], "]"}], ",", "\"\<*\>\""}], "]"}]}], ",", 
    RowBox[{"{", 
     RowBox[{"i", ",", "1", ",", 
      RowBox[{"Length", "@", "matrix"}]}], "}"}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"PrependTo", "[", 
   RowBox[{"matrix", ",", 
    RowBox[{"Flatten", "@", 
     RowBox[{"ConstantArray", "[", 
      RowBox[{"\"\<*\>\"", ",", 
       RowBox[{"{", 
        RowBox[{"1", ",", 
         RowBox[{"Length", "@", 
          RowBox[{"matrix", "[", 
           RowBox[{"[", "1", "]"}], "]"}]}]}], "}"}]}], "]"}]}]}], "]"}], ";"}
  ], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"AppendTo", "[", 
    RowBox[{"matrix", ",", 
     RowBox[{"Flatten", "@", 
      RowBox[{"ConstantArray", "[", 
       RowBox[{"\"\<*\>\"", ",", 
        RowBox[{"{", 
         RowBox[{"1", ",", 
          RowBox[{"Length", "@", 
           RowBox[{"matrix", "[", 
            RowBox[{"[", "1", "]"}], "]"}]}]}], "}"}]}], "]"}]}]}], "]"}], 
   ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
   "ziskej", " ", "input", " ", "a", " ", "napi\[SHacek]", " ", "funkci", " ",
     "pro", " ", "\[CHacek]ekov\[AAcute]n\[IAcute]", " ", "soused\[URing]"}], 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"checkNumberOfOccupied", "[", 
    RowBox[{"position_", ",", "m_"}], "]"}], ":=", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"kombinace", " ", "=", " ", 
       RowBox[{"Tuples", "[", 
        RowBox[{
         RowBox[{"Range", "[", 
          RowBox[{
           RowBox[{"-", "1"}], ",", "1"}], "]"}], ",", "2"}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"kombinace", "=", " ", 
       RowBox[{"DeleteCases", "[", 
        RowBox[{"kombinace", ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0"}], "}"}]}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"count", "=", "0"}], ";", "\[IndentingNewLine]", 
      RowBox[{"Do", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"novaPozice", "=", 
          RowBox[{"position", "+", 
           RowBox[{"kombinace", "[", 
            RowBox[{"[", "i", "]"}], "]"}]}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"m", "[", 
             RowBox[{"[", 
              RowBox[{
               RowBox[{"novaPozice", "[", 
                RowBox[{"[", "1", "]"}], "]"}], ",", 
               RowBox[{"novaPozice", "[", 
                RowBox[{"[", "2", "]"}], "]"}]}], "]"}], "]"}], "\[Equal]", 
            "\"\<#\>\""}], ",", 
           RowBox[{
            RowBox[{"count", "+=", "1"}], ";"}]}], "]"}]}], 
        "\[IndentingNewLine]", ",", 
        RowBox[{"{", 
         RowBox[{"i", ",", "1", ",", 
          RowBox[{"Length", "@", "kombinace"}]}], "}"}]}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Return", "@", "count"}], ";"}]}], "\[IndentingNewLine]", 
    "]"}]}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"makeThemSit", "[", "matrix_", "]"}], ":=", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", "tempMatrix", "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"tempMatrix", "=", " ", "matrix"}], ";", "\[IndentingNewLine]", 
       RowBox[{"Do", "[", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"Do", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{
            RowBox[{"currentSeat", "=", 
             RowBox[{"matrix", "[", 
              RowBox[{"[", 
               RowBox[{"i", ",", "j"}], "]"}], "]"}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"currentSeat", "\[Equal]", "\"\<L\>\""}], ",", 
              "\[IndentingNewLine]", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"checkNumberOfOccupied", "[", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{"i", ",", "j"}], "}"}], ",", "matrix"}], "]"}], 
                 "\[Equal]", " ", "0"}], ",", " ", 
                RowBox[{
                 RowBox[{"tempMatrix", "[", 
                  RowBox[{"[", 
                   RowBox[{"i", ",", "j"}], "]"}], "]"}], "=", 
                 "\"\<#\>\""}]}], "]"}]}], "\[IndentingNewLine]", "]"}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"currentSeat", "\[Equal]", "\"\<#\>\""}], ",", 
              "\[IndentingNewLine]", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"checkNumberOfOccupied", "[", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{"i", ",", "j"}], "}"}], ",", "matrix"}], "]"}], 
                 "\[GreaterEqual]", " ", "4"}], ",", " ", 
                RowBox[{
                 RowBox[{"tempMatrix", "[", 
                  RowBox[{"[", 
                   RowBox[{"i", ",", "j"}], "]"}], "]"}], "=", 
                 "\"\<L\>\""}]}], "]"}]}], "]"}]}], "\[IndentingNewLine]", 
           ",", 
           RowBox[{"{", 
            RowBox[{"j", ",", "2", ",", 
             RowBox[{
              RowBox[{"Length", "@", 
               RowBox[{"matrix", "[", 
                RowBox[{"[", "1", "]"}], "]"}]}], "-", "1"}]}], "}"}]}], 
          "]"}], "\[IndentingNewLine]", ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "2", ",", 
           RowBox[{
            RowBox[{"Length", "@", "matrix"}], "-", "1"}]}], "}"}]}], "]"}], 
       ";", "\[IndentingNewLine]", 
       RowBox[{"Return", "@", "tempMatrix"}], ";"}]}], "\[IndentingNewLine]", 
     "]"}]}], ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
  "\[IndentingNewLine]", 
  RowBox[{"(*", "11.1", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"next", "=", 
   RowBox[{"makeThemSit", "[", "matrix", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"While", "[", 
   RowBox[{
    RowBox[{"next", "\[NotEqual]", "previous"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"previous", "=", "next"}], ";", "\[IndentingNewLine]", 
     RowBox[{"next", "=", 
      RowBox[{"makeThemSit", "[", "previous", "]"}]}], ";"}]}], 
   "\[IndentingNewLine]", "]"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"next", "//", "MatrixForm"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Count", "[", 
   RowBox[{
    RowBox[{"Flatten", "@", "next"}], ",", "\"\<#\>\""}], "]"}], 
  "\[IndentingNewLine]", 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.8167095839956255`*^9, 3.8167099811146154`*^9}, 
   3.8167100218436365`*^9, {3.816710058876704*^9, 3.8167100595325413`*^9}, {
   3.816710093942418*^9, 3.81671011288643*^9}, {3.816710218666992*^9, 
   3.816710274403623*^9}, {3.8167103099649663`*^9, 3.8167103965036187`*^9}, {
   3.816710436377502*^9, 3.8167104465135813`*^9}, {3.816712795087242*^9, 
   3.816712924723372*^9}, {3.816713323273546*^9, 3.816713508368599*^9}, {
   3.8167138544283495`*^9, 3.8167139224393167`*^9}, {3.81671395976763*^9, 
   3.8167140324979305`*^9}, {3.816714595886026*^9, 3.8167145966375985`*^9}, {
   3.8167146453526106`*^9, 3.8167152554440074`*^9}, {3.816715323871479*^9, 
   3.8167154045769863`*^9}, {3.8167154755239267`*^9, 3.816715517773702*^9}, {
   3.816715554726218*^9, 3.8167155565347257`*^9}, {3.8167158930031943`*^9, 
   3.8167160198072405`*^9}, {3.8167161549724274`*^9, 
   3.8167161753088255`*^9}, {3.8167162240304337`*^9, 3.816716226335301*^9}, {
   3.8167166054030533`*^9, 3.8167166057554026`*^9}, {3.81671683153888*^9, 
   3.8167168599001813`*^9}, {3.8167169192630005`*^9, 
   3.8167169961450567`*^9}, {3.816717027458849*^9, 3.816717148157876*^9}, {
   3.816717261843116*^9, 3.816717304028026*^9}, {3.8167173513370123`*^9, 
   3.8167173725419583`*^9}, {3.8167174159278984`*^9, 
   3.8167174614734726`*^9}, {3.8167174917469187`*^9, 3.816717565780527*^9}, {
   3.816717609118038*^9, 3.816717933074358*^9}, {3.8167179637950354`*^9, 
   3.8167179912511797`*^9}, {3.8167180307261324`*^9, 
   3.8167180593264694`*^9}, {3.8167181008237495`*^9, 
   3.8167181307364645`*^9}, {3.8167181741487255`*^9, 
   3.8167182026909695`*^9}, {3.8167182388596115`*^9, 3.816718312830298*^9}, {
   3.8167183786348143`*^9, 3.8167184511869693`*^9}, {3.8167184884934993`*^9, 
   3.8167185717517447`*^9}, {3.8167186072182827`*^9, 3.816718608128084*^9}, {
   3.816718671707959*^9, 3.8167187025800705`*^9}, {3.8167187392937417`*^9, 
   3.8167188743387156`*^9}, {3.8167189510937753`*^9, 3.816719046687203*^9}, {
   3.8167191046910563`*^9, 3.8167191853348455`*^9}, {3.816719224950917*^9, 
   3.81671924104271*^9}, {3.8167193538022194`*^9, 3.816719357354678*^9}, {
   3.816719435012757*^9, 3.816719617746915*^9}, {3.8167196819264517`*^9, 
   3.8167196915835533`*^9}, {3.8167197603607407`*^9, 
   3.8167197690406356`*^9}, {3.8167198199151974`*^9, 
   3.8167198442512827`*^9}, {3.8167198788773828`*^9, 3.816719880388661*^9}, {
   3.8167200038173923`*^9, 3.816720187262329*^9}, {3.8167202283122325`*^9, 
   3.8167202597447395`*^9}, {3.8167202899779615`*^9, 
   3.8167203632683363`*^9}, {3.8167204006060667`*^9, 
   3.8167204303056097`*^9}, {3.816720486320722*^9, 3.8167205369807634`*^9}, {
   3.816720571052487*^9, 3.816720603925206*^9}, {3.8167206344139795`*^9, 
   3.8167206392457714`*^9}, {3.8167206859142523`*^9, 3.816720715232441*^9}, {
   3.8167207625871906`*^9, 3.8167208731192417`*^9}, {3.8167784006143975`*^9, 
   3.816778416830023*^9}},ExpressionUUID->"a40cf3a7-9e6b-407e-ac2b-\
93c0aa8e23d0"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"95", ",", "98"}], "}"}]], "Output",
 CellChangeTimes->{{3.8167102709169207`*^9, 3.816710275382549*^9}, 
   3.8167103148947935`*^9, {3.816710350440939*^9, 3.816710400686304*^9}, {
   3.816712800537055*^9, 3.8167128142476306`*^9}, {3.816712886827535*^9, 
   3.8167129080904255`*^9}, 3.816713448001047*^9, {3.8167134791663785`*^9, 
   3.816713505086308*^9}, {3.816713902883232*^9, 3.816713905209938*^9}, {
   3.816713974671137*^9, 3.816714029086318*^9}, 3.816714597609518*^9, {
   3.8167146290826187`*^9, 3.8167146507185235`*^9}, {3.8167147144556713`*^9, 
   3.816714721752731*^9}, {3.816714760635735*^9, 3.816714792961216*^9}, {
   3.8167148281762486`*^9, 3.81671486130333*^9}, {3.8167148932896433`*^9, 
   3.8167149697717996`*^9}, {3.8167150859872804`*^9, 3.816715144249222*^9}, {
   3.8167151788039055`*^9, 3.81671521685038*^9}, 3.8167152562124834`*^9, {
   3.816716841445969*^9, 3.8167168603324237`*^9}, {3.816716923441685*^9, 
   3.816716997676772*^9}, {3.81671702843367*^9, 3.8167171088057003`*^9}, {
   3.816717141567237*^9, 3.8167171507192783`*^9}, {3.8167172649303365`*^9, 
   3.8167173064329863`*^9}, {3.8167174023046494`*^9, 3.816717462219804*^9}, {
   3.816717636804022*^9, 3.8167176577587194`*^9}, 3.81671783622586*^9, {
   3.8167178798407803`*^9, 3.81671788696185*^9}, {3.8167179232124176`*^9, 
   3.816717933596345*^9}, 3.8167179927150645`*^9, {3.8167180503866663`*^9, 
   3.816718060155157*^9}, {3.8167181017507234`*^9, 3.8167181322372255`*^9}, {
   3.8167181798959928`*^9, 3.8167182039386883`*^9}, {3.816718243075001*^9, 
   3.816718251531189*^9}, 3.816718314676902*^9, {3.8167183832476597`*^9, 
   3.8167184561837373`*^9}, {3.816718496237297*^9, 3.816718573242953*^9}, 
   3.81671860863593*^9, {3.816718672366493*^9, 3.8167187165490303`*^9}, {
   3.816718851702034*^9, 3.8167188751632967`*^9}, {3.8167189536562643`*^9, 
   3.8167189600795407`*^9}, {3.8167189989947777`*^9, 
   3.8167190517141685`*^9}, {3.8167191071174603`*^9, 3.816719185963549*^9}, {
   3.81671923115126*^9, 3.8167192418900304`*^9}, {3.8167196750257764`*^9, 
   3.81671969206497*^9}, {3.816719761409253*^9, 3.816719770084971*^9}, {
   3.8167198201858654`*^9, 3.816719845712947*^9}, 3.8167198809767666`*^9, 
   3.8167200256014533`*^9, {3.81672012032959*^9, 3.8167201880706854`*^9}, {
   3.8167204310433273`*^9, 3.816720441070794*^9}, {3.816720489945708*^9, 
   3.816720537441043*^9}, {3.8167205775052366`*^9, 3.816720604817498*^9}, 
   3.816720639883911*^9, {3.816720688627365*^9, 3.81672071571875*^9}, 
   3.8167207633428917`*^9, {3.816720841334832*^9, 3.816720889834649*^9}, 
   3.816778336324829*^9},
 CellLabel->"Out[3]=",ExpressionUUID->"e6fb7c6a-dc23-40e1-9186-d80b607920a5"],

Cell[BoxData["7684"], "Output",
 CellChangeTimes->{{3.8167102709169207`*^9, 3.816710275382549*^9}, 
   3.8167103148947935`*^9, {3.816710350440939*^9, 3.816710400686304*^9}, {
   3.816712800537055*^9, 3.8167128142476306`*^9}, {3.816712886827535*^9, 
   3.8167129080904255`*^9}, 3.816713448001047*^9, {3.8167134791663785`*^9, 
   3.816713505086308*^9}, {3.816713902883232*^9, 3.816713905209938*^9}, {
   3.816713974671137*^9, 3.816714029086318*^9}, 3.816714597609518*^9, {
   3.8167146290826187`*^9, 3.8167146507185235`*^9}, {3.8167147144556713`*^9, 
   3.816714721752731*^9}, {3.816714760635735*^9, 3.816714792961216*^9}, {
   3.8167148281762486`*^9, 3.81671486130333*^9}, {3.8167148932896433`*^9, 
   3.8167149697717996`*^9}, {3.8167150859872804`*^9, 3.816715144249222*^9}, {
   3.8167151788039055`*^9, 3.81671521685038*^9}, 3.8167152562124834`*^9, {
   3.816716841445969*^9, 3.8167168603324237`*^9}, {3.816716923441685*^9, 
   3.816716997676772*^9}, {3.81671702843367*^9, 3.8167171088057003`*^9}, {
   3.816717141567237*^9, 3.8167171507192783`*^9}, {3.8167172649303365`*^9, 
   3.8167173064329863`*^9}, {3.8167174023046494`*^9, 3.816717462219804*^9}, {
   3.816717636804022*^9, 3.8167176577587194`*^9}, 3.81671783622586*^9, {
   3.8167178798407803`*^9, 3.81671788696185*^9}, {3.8167179232124176`*^9, 
   3.816717933596345*^9}, 3.8167179927150645`*^9, {3.8167180503866663`*^9, 
   3.816718060155157*^9}, {3.8167181017507234`*^9, 3.8167181322372255`*^9}, {
   3.8167181798959928`*^9, 3.8167182039386883`*^9}, {3.816718243075001*^9, 
   3.816718251531189*^9}, 3.816718314676902*^9, {3.8167183832476597`*^9, 
   3.8167184561837373`*^9}, {3.816718496237297*^9, 3.816718573242953*^9}, 
   3.81671860863593*^9, {3.816718672366493*^9, 3.8167187165490303`*^9}, {
   3.816718851702034*^9, 3.8167188751632967`*^9}, {3.8167189536562643`*^9, 
   3.8167189600795407`*^9}, {3.8167189989947777`*^9, 
   3.8167190517141685`*^9}, {3.8167191071174603`*^9, 3.816719185963549*^9}, {
   3.81671923115126*^9, 3.8167192418900304`*^9}, {3.8167196750257764`*^9, 
   3.81671969206497*^9}, {3.816719761409253*^9, 3.816719770084971*^9}, {
   3.8167198201858654`*^9, 3.816719845712947*^9}, 3.8167198809767666`*^9, 
   3.8167200256014533`*^9, {3.81672012032959*^9, 3.8167201880706854`*^9}, {
   3.8167204310433273`*^9, 3.816720441070794*^9}, {3.816720489945708*^9, 
   3.816720537441043*^9}, {3.8167205775052366`*^9, 3.816720604817498*^9}, 
   3.816720639883911*^9, {3.816720688627365*^9, 3.81672071571875*^9}, 
   3.8167207633428917`*^9, {3.816720841334832*^9, 3.816720889834649*^9}, 
   3.8167783367061825`*^9},
 CellLabel->"Out[12]=",ExpressionUUID->"2cab7aee-d0b6-4d93-bb60-f03395fd46c5"]
}, Open  ]]
},
WindowSize->{1920, 997},
WindowMargins->{{-8, Automatic}, {Automatic, -8}},
FrontEndVersion->"12.1 for Microsoft Windows (64-bit) (June 19, 2020)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"87a6a178-7763-46d2-8a68-d02fa80c72b6"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 11212, 260, 1093, "Input",ExpressionUUID->"a40cf3a7-9e6b-407e-ac2b-93c0aa8e23d0"],
Cell[11795, 284, 2703, 38, 32, "Output",ExpressionUUID->"e6fb7c6a-dc23-40e1-9186-d80b607920a5"],
Cell[14501, 324, 2662, 36, 32, "Output",ExpressionUUID->"2cab7aee-d0b6-4d93-bb60-f03395fd46c5"]
}, Open  ]]
}
]
*)

